/* =========================================
   Essential.css — Cyberpunk Terminal (optimized)
========================================= */

:root{
  --bg0:#070916; --bg1:#0b1024; --bg2:#0f1a2b;

  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.66);

  --pink:rgba(255,0,170,.95);
  --violet:rgba(124,58,237,.95);

  --borderSoft:rgba(255,255,255,.10);
  --border:rgba(255,255,255,.14);

  --radius:18px;
  --shadow:0 18px 60px rgba(0,0,0,.45);
}

/* Base layout */
.expertise-container-all{
  position:relative;
  overflow:hidden;

  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;

  width:100%;
  min-height:100vh;
  padding-bottom:30px;

  color:var(--text);
  font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;

  /* ↓ Fewer background layers (still cyber) */
  background:
    radial-gradient(1200px 800px at 15% 10%, rgba(255,0,170,.10), transparent 60%),
    radial-gradient(900px 700px at 80% 25%, rgba(124,58,237,.12), transparent 55%),
    linear-gradient(135deg, var(--bg0), var(--bg1), var(--bg2));

  /* perf */
  transform:translateZ(0);
}

/* grid + scanlines (merged, lighter) */
.expertise-container-all::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:.55;
  background:
    repeating-linear-gradient(to bottom, rgba(255,255,255,.03) 0 1px, transparent 1px 6px),
    repeating-linear-gradient(to right, rgba(255,255,255,.014) 0 1px, transparent 1px 12px);
  mix-blend-mode:soft-light;
  z-index:0;
}

/* glow wash (remove heavy blur) */
.expertise-container-all::after{
  content:"";
  position:absolute;
  inset:-60px;
  pointer-events:none;
  opacity:.45;
  background:
    radial-gradient(900px 520px at 18% 25%, rgba(255,0,170,.12), transparent 65%),
    radial-gradient(900px 520px at 78% 35%, rgba(124,58,237,.12), transparent 60%);
  /* blur removed (big perf win) */
  z-index:0;
}

.expertise-container{
  position:relative;
  z-index:2;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  width:100%;
  padding-top:10%;
}

@media (max-width:1440px){
  .expertise-container-all{ flex-direction:column-reverse; }
  .expertise-container{ padding-top:0; }
}

.service-container{
  position:relative;
  z-index:2;
  display:flex;
  justify-content:center;
  align-items:center;
  flex-wrap:wrap;
  width:90%;
  gap:30px;
}

/* Background image panel */
.background-image-expertise{
  position:absolute;
  top:0;
  right:-50%;
  width:100%;
  height:100%;

  background:url("/assets/ab1.png") no-repeat center/cover;

  opacity:.26;
  filter:saturate(115%) contrast(105%) brightness(.92);
  mix-blend-mode:screen;
  z-index:1;

  /* avoid transition: all */
  transition:right .5s ease;
}
.background-image-expertise:hover{ right:0; }

/* Cards */
.service-card{
  position:relative;
  height:400px;
  width:300px;
  overflow:hidden;
  text-align:center;

  border-radius:var(--radius);
  border:1px solid var(--borderSoft);
  background:
    radial-gradient(900px 420px at 20% 20%, rgba(255,0,170,.10), transparent 60%),
    radial-gradient(700px 380px at 80% 30%, rgba(124,58,237,.11), transparent 55%),
    linear-gradient(180deg, rgba(0,0,0,.36), rgba(0,0,0,.58));
  box-shadow:var(--shadow);

  transform:translate3d(0,0,0);
  /* will-change only on hover via rule below */
}

.service-card::before{
  content:"";
  position:absolute;
  left:16px; right:16px; top:12px;
  height:1px;
  background:linear-gradient(90deg, transparent, rgba(255,0,170,.55), rgba(124,58,237,.55), transparent);
  opacity:.75;
  pointer-events:none;
  z-index:6;
}

.service-card::after{
  content:"";
  position:absolute;
  inset:0;
  background:radial-gradient(120% 100% at 50% 10%, transparent 20%, rgba(0,0,0,.40) 80%);
  pointer-events:none;
  z-index:5;
}

.service-card:hover{
  animation:pulse 2s ease-in-out;
  border-color:rgba(255,0,170,.40);
  box-shadow:
    0 0 0 1px rgba(255,0,170,.22),
    0 0 26px rgba(255,0,170,.18),
    0 0 60px rgba(124,58,237,.14),
    var(--shadow);
  will-change:transform;
}

@keyframes pulse{
  0%{ transform:scale(1); }
  50%{ transform:scale(1.07); }
  100%{ transform:scale(1); }
}

/* Image layer (deduped) */
.service-image{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  z-index:1;
  overflow:hidden;

  opacity:1;
  transform:translateY(0);
  transition:transform .3s ease, opacity .3s ease;
}

.service-image img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;

  filter:saturate(112%) contrast(108%);
  transition:opacity .3s ease;
}

.service-card:hover .service-image,
.service-card.active .service-image{
  opacity:0;
  transform:translateY(-100%);
}

/* Icon layer */
.service-icon{
  position:absolute;
  top:-100%;
  left:50%;
  transform:translate(-50%,-50%);

  display:flex;
  justify-content:center;
  align-items:center;
  flex-direction:column;

  opacity:0;
  transition:transform .3s ease, opacity .3s ease;
  z-index:8;
}

.service-icon img{
  width:34px;
  display:block;
  filter:drop-shadow(0 0 10px rgba(255,0,170,.40))
         drop-shadow(0 0 18px rgba(124,58,237,.25));
}

.service-card:hover .service-icon{
  opacity:1;
  transform:translate(-50%, 0);
}

/* Description overlay */
.service-card .service-description{
  position:absolute;
  inset:0;

  display:flex;
  justify-content:center;
  align-items:center;

  opacity:0;
  transform:translateY(100%);
  transition:transform .3s ease, opacity .3s ease;

  color:var(--text);
  background:
    radial-gradient(900px 420px at 20% 20%, rgba(255,0,170,.12), transparent 60%),
    radial-gradient(700px 380px at 80% 30%, rgba(124,58,237,.13), transparent 55%),
    linear-gradient(180deg, rgba(0,0,0,.65), rgba(0,0,0,.82));

  text-align:center;
  padding:22px;

  z-index:9;
}

/* backdrop-filter is expensive → enable only when supported */
@supports ((-webkit-backdrop-filter: blur(8px)) or (backdrop-filter: blur(8px))){
  .service-card .service-description{
    backdrop-filter:blur(10px);
    -webkit-backdrop-filter:blur(10px);
  }
}

.service-card .service-description p{
  margin:0;
  font-size:14px;
  line-height:1.6;
  color:rgba(255,255,255,.90);
  text-shadow:0 0 18px rgba(255,0,170,.10);
}

.service-card.active .service-description{
  opacity:1;
  transform:translateY(0);
  z-index:10;
}

/* Bottom CTA */
.service-card h3{
  position:absolute;
  bottom:12px;
  left:50%;
  transform:translateX(-50%);
  margin:0;
  z-index:11;

  font-size:14px;
  font-weight:900;
  background:transparent;
  padding:0;
}

.button-hover-effect{
  height:44px;
  padding:0 16px;

  border-radius:14px;
  border:1px solid rgba(255,0,170,.28);

  background:rgba(255,255,255,.08);
  color:rgba(255,255,255,.94);

  font-weight:950;
  letter-spacing:.12em;
  text-transform:uppercase;

  cursor:pointer;
  overflow:hidden;
  position:relative;

  transition:transform 140ms ease, filter 140ms ease, border-color 140ms ease;
}

.button-hover-effect::before{
  content:"";
  position:absolute;
  inset:-2px;
  opacity:0;
  transition:opacity 160ms ease;
  background:
    radial-gradient(600px 220px at 30% 40%, rgba(255,0,170,.24), transparent 60%),
    radial-gradient(600px 220px at 70% 60%, rgba(124,58,237,.22), transparent 60%);
}

.button-hover-effect:hover{
  transform:translateY(-1px);
  filter:brightness(1.07);
  border-color:rgba(255,0,170,.45);
}
.button-hover-effect:hover::before{ opacity:1; }
.button-hover-effect:active{ transform:translateY(0); }

/* Title */
.expertise-title{
  position:relative;
  z-index:3;

  display:flex;
  justify-content:right;
  width:60%;

  font-size:47px;
  font-family:"Oswald", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  letter-spacing:.08em;

  background:linear-gradient(90deg, rgba(255,0,170,.95), rgba(124,58,237,.95));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;

  text-shadow:0 0 18px rgba(255,0,170,.15),
              0 0 26px rgba(124,58,237,.12);
}

@media (max-width:442px){
  .expertise-title{
    font-size:30px !important;
    padding-top:8%;
    width:90%;
    justify-content:center;
  }
}

/* Mobile/touch */
@media (hover:none){
  .service-card:hover{ animation:none; }
}
/* ---- Smooth first appearance (no jump) ---- */
.expertise-container-all{
  opacity: 0;
  transform: translateY(8px);
  transition: opacity 260ms ease, transform 260ms ease;
  will-change: opacity, transform;
}

/* Contact / Home already sets window.__AG_REVEAL_DONE__ + data-agReveal */
html[data-ag-reveal="1"] .expertise-container-all{
  opacity: 1;
  transform: translateY(0);
}
.expertise-container-all{
  min-height: 100vh; /* déjà ok chez toi */
  contain: layout paint; /* limite propagation layout */
}
.service-image img{
  opacity: 0;
  transition: opacity 220ms ease;
}

html[data-ag-reveal="1"] .service-image img{
  opacity: 1;
}
