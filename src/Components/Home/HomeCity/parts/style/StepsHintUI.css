/* =========================================================
   StepsHintUI.css
   Premium command hints: Keycaps, Arrows, Mouse/Trackpad, CursorClick
   (No external libs, no GIF)
========================================================= */

/* =========================
   HINT ROW
========================= */
.agCitySteps__hintRow{
  display:flex;
  flex-wrap: wrap;
  gap: 12px;
  align-items:center;
  justify-content: flex-start;
}


/* =========================
   KEYCAP
========================= */
.agKey{
  --bg: rgba(12, 10, 26, 0.62);
  --bd: rgba(255,255,255,0.14);
  --txt: rgba(245,245,255,0.92);
  --glowA: rgba(255,0,170,0.28);
  --glowB: rgba(0,255,255,0.18);

  display:inline-flex;
  align-items:center;
  gap: 8px;

  padding: 10px 14px;
  border-radius: 16px;
  border: 1px solid var(--bd);
  background: linear-gradient(180deg, rgba(255,255,255,0.06), transparent 52%), var(--bg);

  box-shadow:
    0 10px 24px rgba(0,0,0,0.35),
    inset 0 1px 0 rgba(255,255,255,0.10),
    inset 0 -10px 18px rgba(0,0,0,0.25);

  color: var(--txt);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  font-size: 13px;
  letter-spacing: 0.05em;

  transform: translateY(0);
  transition: transform 140ms ease, box-shadow 160ms ease, border-color 160ms ease, filter 160ms ease;

  user-select:none;
  pointer-events:none;
}

.agKey__icon{
  width: 18px;
  height: 18px;
  display:inline-grid;
  place-items:center;
  border-radius: 10px;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.10);
  color: rgba(255,0,170,0.95);
  box-shadow: 0 0 14px rgba(255,0,170,0.14);
}

.agKey__label{ opacity: 0.92; }
.agKey__sub{ opacity: 0.72; font-size: 11px; margin-left: 2px; }

.agKey.isActive{
  border-color: rgba(255,0,170,0.38);
  box-shadow:
    0 12px 30px rgba(0,0,0,0.45),
    0 0 0 1px rgba(255,0,170,0.14),
    0 0 32px var(--glowA),
    0 0 26px var(--glowB),
    inset 0 1px 0 rgba(255,255,255,0.12),
    inset 0 -10px 18px rgba(0,0,0,0.22);
  filter: saturate(1.06);
}

.agKey.isPressed{
  transform: translateY(2px) scale(0.99);
  box-shadow:
    0 6px 16px rgba(0,0,0,0.45),
    inset 0 1px 0 rgba(255,255,255,0.06),
    inset 0 -16px 26px rgba(0,0,0,0.35);
  border-color: rgba(0,255,255,0.28);
}


/* =========================
   ARROW CLUSTER
========================= */
.agKeyCluster{
  display:inline-flex;
  gap: 8px;
  padding: 8px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.03);
  box-shadow: inset 0 0 0 1px rgba(255,0,170,0.05);
  pointer-events:none;
}

.agKeyGrid{
  display:grid;
  gap: 8px;
  align-items:center;
  justify-items:center;
  grid-template-columns: repeat(3, 50px);
  grid-template-rows: repeat(2, 50px);
}

.agArrowKey{
  width: 50px;
  height: 50px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.14);
  background: linear-gradient(180deg, rgba(255,255,255,0.06), transparent 55%), rgba(12,10,26,0.62);
  box-shadow:
    0 10px 22px rgba(0,0,0,0.35),
    inset 0 1px 0 rgba(255,255,255,0.10),
    inset 0 -10px 18px rgba(0,0,0,0.25);
  font-size: 16px;
  display:grid;
  place-items:center;
  color: rgba(245,245,255,0.92);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  transition: transform 140ms ease, box-shadow 160ms ease, border-color 160ms ease;
}

.agArrowKey.isActive{
  border-color: rgba(255,0,170,0.38);
  box-shadow:
    0 12px 28px rgba(0,0,0,0.45),
    0 0 26px rgba(255,0,170,0.20),
    0 0 20px rgba(0,255,255,0.12),
    inset 0 1px 0 rgba(255,255,255,0.12),
    inset 0 -10px 18px rgba(0,0,0,0.22);
}

.agArrowKey.isPressed{
  transform: translateY(2px) scale(0.99);
  border-color: rgba(0,255,255,0.28);
  box-shadow:
    0 6px 16px rgba(0,0,0,0.45),
    inset 0 1px 0 rgba(255,255,255,0.06),
    inset 0 -16px 26px rgba(0,0,0,0.35);
}

/* optional: demo pulse (si tu l’utilises) */
.agArrowKey.isDemo{
  animation: agDemoPulse 0.95s ease-in-out infinite;
}
@keyframes agDemoPulse{
  0%,100% { transform: translateY(0) scale(1); filter: saturate(1); }
  50%     { transform: translateY(2px) scale(0.99); filter: saturate(1.15); }
}

.agArrowKey.up{ grid-column: 2; grid-row: 1; }
.agArrowKey.left{ grid-column: 1; grid-row: 2; }
.agArrowKey.down{ grid-column: 2; grid-row: 2; }
.agArrowKey.right{ grid-column: 3; grid-row: 2; }


/* =========================
   ICON HINTS (Mouse / Trackpad)
========================= */
.agIconHint{
  display:inline-flex;
  align-items:center;
  gap: 10px;

  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(12,10,26,0.55);

  box-shadow:
    0 12px 28px rgba(0,0,0,0.40),
    inset 0 1px 0 rgba(255,255,255,0.10),
    inset 0 -10px 18px rgba(0,0,0,0.22);

  color: rgba(245,245,255,0.90);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  font-size: 13px;
  letter-spacing: 0.10em;

  pointer-events: none;
}

.agIconHint__svg{
  display:grid;
  place-items:center;
  width: 76px;
  height: 76px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: rgba(255,0,170,0.92);
  box-shadow: 0 0 20px rgba(255,0,170,0.10);
}

.agIconHint__svg svg {
  width: 56px;
  height: 56px;
}

.agIconHint.isActive{
  border-color: rgba(255,0,170,0.34);
  box-shadow:
    0 14px 34px rgba(0,0,0,0.46),
    0 0 34px rgba(255,0,170,0.16),
    0 0 24px rgba(0,255,255,0.10),
    inset 0 1px 0 rgba(255,255,255,0.12),
    inset 0 -10px 18px rgba(0,0,0,0.22);
}

.agIconHint__label{
  opacity: 0.95;
  font-size: 13px;
}

.agIconHint__pulse{
  stroke-dasharray: 90;
  stroke-dashoffset: 90;
  animation: agStrokePulse 1.2s ease-in-out infinite;
}

.agIconHint__tapDot{
  animation: agTapDot 1.0s ease-in-out infinite;
  transform-origin: center;
}

@keyframes agStrokePulse{
  0%   { stroke-dashoffset: 90; opacity: 0.15; }
  40%  { stroke-dashoffset: 0;  opacity: 0.55; }
  100% { stroke-dashoffset: -30; opacity: 0.10; }
}

@keyframes agTapDot{
  0%,100% { transform: scale(1); opacity: 0.65; }
  50%     { transform: scale(1.45); opacity: 1; }
}


/* =========================
   CURSOR CLICK (Cursor moves, ring pulses)
========================= */
.agCursorHint{
  display:inline-flex;
  align-items:center;
  gap: 12px;
  pointer-events:none;
}

.agCursorHint__svg{
  width: 76px;
  height: 76px;
  display:grid;
  place-items:center;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  box-shadow: 0 0 20px rgba(255,0,170,0.10);
}

/* ✅ Cursor bleu via currentColor */
.agCursorHint__svg svg{
  color: rgba(0, 220, 255, 0.95);
}

/* --- Cursor motion (click) --- */
.agCursorHint__cursor{
  transform-box: fill-box;
  transform-origin: 22px 14px; /* ≈ pointe (ajuste si besoin) */
  animation: agCursorClick 1.05s ease-in-out infinite;
}

/* petit dot de click */
.agCursorHint__clickDot{
  fill: rgba(0, 220, 255, 0.95);
  opacity: 0;
  transform-box: fill-box;
  transform-origin: center;
  animation: agCursorDot 1.05s ease-in-out infinite;
}

/* --- Ring stays fixed, pulses only --- */
.agCursorHint__ring{
  transform-box: fill-box;
  transform-origin: 30px 26px; /* centre des rings */
}

/* Ring 1 */
.agCursorHint__ring1{
  fill: rgba(0, 220, 255, 0.16);
  stroke: rgba(0, 220, 255, 0.75);
  stroke-width: 2.5;
  animation: agRingPulse 1.05s ease-in-out infinite;
}

/* Ring 2 */
.agCursorHint__ring2{
  fill: transparent;
  stroke: rgba(0, 220, 255, 0.35);
  stroke-width: 2;
  animation: agRingPulse2 1.05s ease-in-out infinite;
}

/* label */
.agCursorHint__label{
  opacity: 0.95;
  font-size: 13px;
  letter-spacing: 0.10em;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  color: rgba(245,245,255,0.90);
}

/* optional active glow */
.agCursorHint.isActive .agCursorHint__svg{
  border-color: rgba(0,220,255,0.28);
  box-shadow:
    0 14px 34px rgba(0,0,0,0.46),
    0 0 34px rgba(0,220,255,0.12),
    0 0 24px rgba(255,0,170,0.10),
    inset 0 1px 0 rgba(255,255,255,0.12),
    inset 0 -10px 18px rgba(0,0,0,0.22);
}

/* Keyframes */
@keyframes agCursorClick{
  0%, 55%, 100% { transform: translate(0,0) scale(1) rotate(0deg); }
  70% { transform: translate(-1.2px, 1.0px) scale(0.985) rotate(-1deg); }
  85% { transform: translate(0.6px, -0.4px) scale(1.01) rotate(0.4deg); }
}

@keyframes agCursorDot{
  0%, 58%, 100% { opacity: 0; transform: scale(0.6); }
  70% { opacity: 0.95; transform: scale(1.25); }
  82% { opacity: 0.35; transform: scale(1.7); }
}

@keyframes agRingPulse{
  0%,100% { transform: scale(0.92); opacity: 0.65; }
  70%     { transform: scale(1.10); opacity: 1; }
}

@keyframes agRingPulse2{
  0%,100% { transform: scale(0.90); opacity: 0.20; }
  70%     { transform: scale(1.16); opacity: 0.55; }
}
.agCursorHint__sub{
  display:block;
  opacity: .70;
  font-size: 11px;
  letter-spacing: 0.04em;
  margin-top: 2px;
}

.agDesktopStretch{
  position: fixed;
  inset: 0;
  z-index: 999999;
  pointer-events: none;
  opacity: 0.0;
  transition: opacity 180ms ease, filter 180ms ease;
  filter: saturate(1);

  
}

.agDesktopStretch.isActive{ opacity: 1; }

.agDesktopStretch.isHidden{
  opacity: 0;
  filter: saturate(0.9);
}

/* Trajectoire “scan” : un glow très léger */
.agDesktopStretch__trail{
  position: absolute;
  inset: 0;
  background:
    radial-gradient(600px 220px at 30% 35%, rgba(0,220,255,0.08), transparent 60%),
    radial-gradient(700px 260px at 70% 55%, rgba(255,0,170,0.06), transparent 62%);
  mix-blend-mode: screen;
  opacity: 0.75;
}

/* Le curseur animé */
.agDesktopStretch__cursor{
  position: absolute;
  left: 12%;
  top: 24%;
  transform: translate(-50%, -50%);
  color: rgba(0,220,255,0.95);
  filter: drop-shadow(0 14px 26px rgba(0,0,0,0.45));
  animation: agScanPath 1.35s ease-in-out infinite;
  will-change: transform;
}


/* petit “ping” au bout du curseur */
.agDesktopStretch__ping{
  position: absolute;
  left: 24px;
  top: 24px;
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: rgba(0,220,255,0.22);
  border: 1px solid rgba(0,220,255,0.55);
  box-shadow: 0 0 18px rgba(0,220,255,0.20);
  animation: agPing 0.9s ease-in-out infinite;
}

/* texte discret */
.agDesktopStretch__text{
  position: absolute;
  right: 136px;
  top: 23%;
  transform: translateY(-50%);
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(5,4,16,0.56);
  backdrop-filter: blur(12px) saturate(150%);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  box-shadow:
    0 18px 50px rgba(0,0,0,0.55),
    0 0 32px rgba(0,220,255,0.08),
    0 0 24px rgba(255,0,170,0.06);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  letter-spacing: 0.08em;
}

.agDesktopStretch__label{
  font-size: 12px;
  color: rgba(245,245,255,0.92);
}
.agDesktopStretch__sub{
  margin-top: 4px;
  font-size: 11px;
  opacity: 0.70;
  color: rgba(245,245,255,0.86);
}

@media (max-width: 980px){
  .agDesktopStretch__text{
    right: 18px;
    top: 15%;
  }
}

@keyframes agScanPath {
  0%   { transform: translate(10vw,  10px) rotate(-10deg); }
  25%  { transform: translate(20vw,  -16px) rotate(-6deg); }
  25%  { transform: translate(30vw,  -26px) rotate(-6deg); }
  50%  { transform: translate(50vw, 10px) rotate( 0deg); }
  75%  { transform: translate(30vw,  -6px) rotate( 6deg); }
  75%  { transform: translate(30vw,  -16px) rotate( 6deg); }
  100% { transform: translate(10vw,  10px) rotate(10deg); }
}

@keyframes agPing{
  0%,100%{ transform: scale(0.85); opacity: 0.55; }
  55%    { transform: scale(1.25); opacity: 1; }
}


@media (prefers-reduced-motion: reduce){
  .agDesktopStretch__cursor,
  .agDesktopStretch__ping{
    animation: none !important;
  }
}

.agDesktopStretch.isCompact{
  inset: auto;
  right: 0;
  top: 0;
  width: 320px;
  height: 320px;
}
.agDesktopStretch.isCompact .agDesktopStretch__trail{ display:none; }
