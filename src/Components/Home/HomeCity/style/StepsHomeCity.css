/* src/Components/Home/HomeCity/style/StepsHomeCity.css */

/* =========================
   ROOT OVERLAY
========================= */
.agCitySteps{
  position: fixed;
  inset: 0;
  z-index: 9998;
  display: grid;
  place-items: center;
  padding: 18px;
  pointer-events: none;
  color: rgba(255,255,255,0.92);
}

/* =========================
   BACKGROUND DIM (global)
========================= */
.agCitySteps__bg{
  position: absolute;
  inset: 0;
  z-index: 0;
  pointer-events: none;

  background: rgba(6, 0, 16, 0.38);
  backdrop-filter: brightness(0.82) contrast(1.10) saturate(1.08);
  -webkit-backdrop-filter: brightness(0.82) contrast(1.10) saturate(1.08);
}

/* vignette + halos neon doux */
.agCitySteps__bg::before{
  content:"";
  position:absolute;
  inset:-2px;
  background:
    radial-gradient(1200px 800px at 50% 35%, rgba(124,58,237,0.10), transparent 60%),
    radial-gradient(900px 600px at 18% 18%, rgba(255,0,170,0.08), transparent 62%),
    radial-gradient(900px 600px at 78% 26%, rgba(0,255,255,0.06), transparent 62%),
    radial-gradient(1400px 900px at 50% 55%, transparent 62%, rgba(0,0,0,0.35) 100%);
  opacity: 1;
}

/* grain subtil */
.agCitySteps__bg::after{
  content:"";
  position:absolute;
  inset:0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.28'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
  opacity: 0.08;
}

/* Step 1: card un poil plus “focus” */
.agCitySteps[data-step="1"] .agCitySteps__card{
  background: rgba(5, 4, 16, 0.48);
  border-color: rgba(255,255,255,0.10);
  box-shadow:
    0 18px 70px rgba(0,0,0,0.58),
    0 0 60px rgba(124,58,237,0.14);
}

/* =========================
   MATRIX RAIN (STEP 1 ONLY)
========================= */
.agCitySteps__matrixRain{
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  overflow: hidden;
  opacity: 0.9;
  mix-blend-mode: screen;

  -webkit-mask-image: linear-gradient(
    to bottom,
    transparent 0%,
    rgba(0,0,0,1) 12%,
    rgba(0,0,0,1) 78%,
    transparent 100%
  );
  mask-image: linear-gradient(
    to bottom,
    transparent 0%,
    rgba(0,0,0,1) 12%,
    rgba(0,0,0,1) 78%,
    transparent 100%
  );
}

/* hard “only step 1” safety */
.agCitySteps__matrixRain{ display:none; }
.agCitySteps[data-step="1"] .agCitySteps__matrixRain{ display:block; }

.agCitySteps__matrixCol{
  position: absolute;
  top: -130%;
  left: var(--x);
  width: 14px;
  height: 260%;

  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  font-size: var(--fs, 13px);
  line-height: 16px;
  letter-spacing: 0.35px;

  writing-mode: vertical-rl;
  text-orientation: mixed;

  opacity: var(--a, 0.75);
  filter: blur(var(--blur, 0px)) saturate(1.08) contrast(1.05);

  animation: agMatrixFall var(--dur, 3.6s) linear infinite;
  animation-delay: var(--delay, -1.2s);

  will-change: transform, opacity;
}

.agCitySteps__matrixCol::before{
  content:
    "AG//CITY 0101 1100 ϟ Ϟ ϟ "
    "NULL::ANGELS 0xFF 0xA7 "
    "KISS_MY_FIRE ██▓▒░ "
    "BRX//NODE 1010 0110 "
    "VX/NEON ΔΣΞ PORTAL://ORBIT ";

  background: linear-gradient(
    to bottom,
    rgba(255,0,170,0.95) 0%,
    rgba(180,140,255,0.85) 18%,
    rgba(0,255,255,0.38) 55%,
    rgba(0,255,255,0.0) 100%
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;

  text-shadow:
    0 0 10px rgba(255,0,170,0.16),
    0 0 18px rgba(124,58,237,0.14),
    0 0 26px rgba(0,255,255,0.10);
}

@keyframes agMatrixFall{
  0%   { transform: translateY(-12%); opacity: 0; }
  10%  { opacity: 1; }
  85%  { opacity: 0.95; }
  100% { transform: translateY(66%); opacity: 0; }
}

/* =========================
   CARD (premium glass)
========================= */
.agCitySteps__card{
  pointer-events: auto;
  width: clamp(340px, 56vw, 720px);
  /* min-height: 280px; */
  border-radius: 22px;
  padding: 18px 28px 14px;
  position: relative;
  overflow: hidden;
  z-index: 3;

  background: rgba(5, 4, 16, 0.58);
  border: 1px solid rgba(255,255,255,0.12);

  backdrop-filter: blur(16px) saturate(150%);
  -webkit-backdrop-filter: blur(16px) saturate(150%);

  box-shadow:
    0 18px 70px rgba(0,0,0,0.55),
    0 0 0 1px rgba(255,0,170,0.10),
    0 0 70px rgba(124,58,237,0.16),
    0 0 52px rgba(0,255,255,0.10);
}

/* inner edge glow */
.agCitySteps__card::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius: 22px;
  pointer-events:none;
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,0.08),
    inset 0 0 0 2px rgba(255,0,170,0.06);
  opacity: 1;
}

.agCitySteps__sheen{
  position:absolute;
  inset:-2px;
  background:
    radial-gradient(520px 220px at 20% 10%, rgba(255,0,170,0.18), transparent 60%),
    radial-gradient(520px 220px at 85% 20%, rgba(0,255,255,0.14), transparent 60%);
  opacity:.75;
  pointer-events:none;
}

/* =========================
   TEXT
========================= */
.agCitySteps__badge{
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-size: 12px;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  opacity: 0.88;
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);

  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

.agCitySteps__badge::after{
  content: "  >";
  opacity: 0.55;
}

.agCitySteps__dot{
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: rgba(255,0,170,0.92);
  box-shadow: 0 0 18px rgba(255,0,170,0.55), 0 0 24px rgba(124,58,237,0.35);
}

/* Title: tu voulais plus grand + “Apple vibe” */
.agCitySteps__title{
  margin-top: 14px;
  font-size: 34px;
  font-weight: 900;
  letter-spacing: .01em;

  /* Apple-ish default, mais si t'as une font globale c'est ok */
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";

  text-shadow:
    0 0 18px rgba(255,0,170,0.10),
    0 0 26px rgba(124,58,237,0.10);
}

.agCitySteps__sub{
  margin-top: 8px;
  font-size: 14px;
  opacity: .86;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  letter-spacing: 0.02em;
  text-shadow: 0 0 18px rgba(0,0,0,0.28);
}

.agCitySteps__desc{
  margin-top: 10px;
  font-size: 15px;
  opacity: .86;
  line-height: 1.55;
  text-shadow: 0 0 18px rgba(0,0,0,0.25);

  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  letter-spacing: 0.02em;
}

/* =========================
   FOOTER / ACTIONS
========================= */
.agCitySteps__footer{
  margin-top: 14px;
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 12px;
}

.agCitySteps__hint{
  font-size: 12px;
  opacity: .75;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

.agCitySteps__actions{
  display:flex;
  gap: 10px;
  align-items:center;
}

/* =========================
   PROGRESS
========================= */
.agCitySteps__progressBlock{
  margin-top: 14px;
  padding: 12px 12px 10px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
}

.agCitySteps__progressTop{
  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 10px;
  margin-bottom: 10px;
}

.agCitySteps__progressLabel{
  font-size: 11px;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  opacity: 0.85;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

.agCitySteps__progressPct{
  font-size: 12px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  opacity: 0.85;
}

.agCitySteps__bar{
  height: 10px;
  border-radius: 999px;
  overflow: hidden;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.10);
}

.agCitySteps__barFill{
  height: 100%;
  width: 100%;
  transform-origin: left center;
  background: linear-gradient(90deg, rgba(0,255,255,0.18), rgba(255,0,170,0.22));
  box-shadow: 0 0 26px rgba(255,0,170,0.12);
}

.agCitySteps__hintMono{
  margin-top: 10px;
  font-size: 12px;
  opacity: .78;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

/* =========================
   CTA BUTTON
========================= */
.agCitySteps__cta{
  height: 42px;
  padding: 0 14px;
  border-radius: 14px;
  border: 1px solid rgba(255, 255, 255, 0.10);
  background: rgba(10, 8, 22, 0.45);
  color: rgba(245, 245, 255, 0.92);

  cursor: pointer;
  transition:
    transform 120ms ease,
    box-shadow 160ms ease,
    border-color 160ms ease;

  text-align: left;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  letter-spacing: 0.02em;

  position: relative;
  overflow: hidden;
  z-index: 2;
}

.agCitySteps__cta:hover{
  transform: translateY(-1px);
  border-color: rgba(0, 255, 255, 0.26);
  box-shadow:
    0 12px 26px rgba(0, 0, 0, 0.40),
    0 0 26px rgba(0, 255, 255, 0.12),
    0 0 26px rgba(255, 0, 170, 0.10);
}

.agCitySteps__cta::after{
  content: "";
  position: absolute;
  top: -40%;
  left: -30%;
  width: 60%;
  height: 180%;
  transform: rotate(18deg);
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.10), transparent);
  opacity: 0;
  transition: opacity 160ms ease, transform 220ms ease;
}

.agCitySteps__cta:hover::after{
  opacity: 1;
  transform: translateX(70%) rotate(18deg);
}

.agCitySteps__chev{
  display: inline-block;
  width: 18px;
  margin-right: 8px;
  color: rgba(255, 0, 170, 0.95);
  text-shadow: 0 0 12px rgba(255, 0, 170, 0.75);
}

/* EN ATTENTE DU SIGNAL… */
.agCitySteps__lock{
  display: block;
  width: 100%;
  text-align: center;
  font-size: 13px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  padding: 10px 0;
  opacity: .9;
  text-shadow:
    0 0 18px rgba(255,0,170,0.12),
    0 0 22px rgba(124,58,237,0.12);

  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}

/* =========================
   DOTS
========================= */
.agCitySteps__dots{
  margin-top: 14px;
  display:flex;
  gap: 10px;
  justify-content:center;
  opacity: 1;
}

.agCitySteps__dots .p{
  width: 11px;
  height: 11px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.22);
  background: rgba(255,255,255,0.06);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.25);
}

.agCitySteps__dots .p.on{
  border-color: rgba(255,0,170,0.55);
  background: rgba(255,0,170,0.30);
  box-shadow:
    0 0 18px rgba(255,0,170,0.28),
    0 0 26px rgba(124,58,237,0.18),
    inset 0 0 0 1px rgba(255,255,255,0.10);
  animation: agDotPulse 1.25s ease-in-out infinite;
}

@keyframes agDotPulse{
  0%,100%{ transform: scale(1); filter: saturate(1.0); }
  50%{ transform: scale(1.18); filter: saturate(1.15); }
}

/* =========================
   ORBIT ARROW
========================= */
.agCitySteps__arrow{
  pointer-events: none;
  position: fixed;
  transform: translate(-50%, -115%);
  z-index: 9999;
  filter: drop-shadow(0 12px 30px rgba(0,0,0,0.45));
}

.agCitySteps__arrowCore{
  width: 18px;
  height: 18px;
  border-radius: 999px;
  background: rgba(255,0,170,0.22);
  border: 1px solid rgba(255,0,170,0.55);
  box-shadow:
    0 0 18px rgba(255,0,170,0.24),
    0 0 26px rgba(0,255,255,0.12);
  animation: agPulse 0.9s ease-in-out infinite;
}

.agCitySteps__arrowTip{
  width: 0; height: 0;
  margin: 6px auto 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 10px solid rgba(255,0,170,0.78);
  filter: drop-shadow(0 0 10px rgba(255,0,170,0.35));
}

.agCitySteps__arrowLabel{
  margin-top: 8px;
  font-size: 11px;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  color: rgba(245,245,255,0.88);
  text-align: center;
  text-shadow: 0 0 12px rgba(255,0,170,0.20);
}

@keyframes agPulse{
  0%,100%{ transform: scale(1); opacity: 0.88; }
  50%{ transform: scale(1.12); opacity: 1; }
}

/* =========================
   STEP 2: “hand” pointer (outside card)
========================= */
.agCitySteps__hand{
  position: fixed;
  right: 22px;
  top: 52%;
  transform: translateY(-50%);
  z-index: 9999;
  pointer-events: none;
  display: grid;
  gap: 8px;
  justify-items: center;
  opacity: .92;
  filter: drop-shadow(0 12px 26px rgba(0,0,0,0.45));
}

.agCitySteps__handIcon{
  font-size: 34px;
  animation: agHandBounce 1.1s ease-in-out infinite;
  text-shadow: 0 0 18px rgba(255,0,170,0.14);
}

.agCitySteps__handText{
  font-size: 12px;
  letter-spacing: .18em;
  text-transform: uppercase;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(5,4,16,0.55);
  box-shadow: 0 0 26px rgba(255,0,170,0.10);
}

@keyframes agHandBounce{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-6px); }
}

/* =========================
   HINT ROW + KEYCAPS
   (compatible avec StepsHintUI.css)
========================= */
.agCitySteps__hintRow{
  display:flex;
  flex-wrap: wrap;
  gap: 12px;
  align-items:center;
  justify-content: flex-start;
  min-width: 400px;
}

/* =========================
   ICON HINTS (Mouse / Trackpad)
========================= */
.agIconHint{
  display:inline-flex;
  align-items:center;
  gap: 10px;

  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(12,10,26,0.55);

  box-shadow:
    0 12px 28px rgba(0,0,0,0.40),
    inset 0 1px 0 rgba(255,255,255,0.10),
    inset 0 -10px 18px rgba(0,0,0,0.22);

  color: rgba(245,245,255,0.90);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  font-size: 13px;
  letter-spacing: 0.10em;

  pointer-events: none;
}

.agIconHint__svg{
  display:grid;
  place-items:center;
  width: 56px;
  height: 56px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: rgba(255,0,170,0.92);
  box-shadow:
    0 0 26px rgba(255,0,170,0.14),
    0 0 20px rgba(0,255,255,0.08);
}

.agIconHint__label{
  opacity: 0.95;
  font-size: 13px;
}

.agIconHint.isActive{
  border-color: rgba(255,0,170,0.34);
  box-shadow:
    0 14px 34px rgba(0,0,0,0.46),
    0 0 34px rgba(255,0,170,0.16),
    0 0 24px rgba(0,255,255,0.10),
    inset 0 1px 0 rgba(255,255,255,0.12),
    inset 0 -10px 18px rgba(0,0,0,0.22);
}

.agIconHint.isActive .agIconHint__svg{
  animation: agIconGrow 1.1s ease-in-out infinite;
}

@keyframes agIconGrow{
  0%,100%{ transform: scale(1); }
  50%{ transform: scale(1.08); }
}

/* (si ton StepsHintUI.jsx utilise ces classes) */
.agIconHint__pulse{
  stroke-dasharray: 90;
  stroke-dashoffset: 90;
  animation: agStrokePulse 1.2s ease-in-out infinite;
}
.agIconHint__tapDot{
  animation: agTapDot 1.0s ease-in-out infinite;
  transform-origin: center;
}
@keyframes agStrokePulse{
  0%   { stroke-dashoffset: 90; opacity: 0.15; }
  40%  { stroke-dashoffset: 0;  opacity: 0.55; }
  100% { stroke-dashoffset: -30; opacity: 0.10; }
}
@keyframes agTapDot{
  0%,100% { transform: scale(1); opacity: 0.65; }
  50%     { transform: scale(1.45); opacity: 1; }
}

/* =========================
   ARROWS: demo press (Step 3)
========================= */
.agArrowKey.isDemo{
  animation: agKeyDemo 0.9s ease-in-out infinite;
  border-color: rgba(255,0,170,0.38);
  box-shadow:
    0 12px 28px rgba(0,0,0,0.45),
    0 0 26px rgba(255,0,170,0.20),
    0 0 20px rgba(0,255,255,0.12),
    inset 0 1px 0 rgba(255,255,255,0.12),
    inset 0 -10px 18px rgba(0,0,0,0.22);
}

@keyframes agKeyDemo{
  0%,100%{ transform: translateY(0) scale(1); }
  50%{ transform: translateY(2px) scale(0.99); }
}

/* =========================
   GAME NAV TOAST (optional)
========================= */
.agGameNavToast{
  position: fixed;
  top: 86px;
  right: 18px;
  z-index: 9999;
  pointer-events: none;

  width: 260px;
  padding: 12px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(5,4,16,0.58);

  backdrop-filter: blur(14px) saturate(150%);
  -webkit-backdrop-filter: blur(14px) saturate(150%);

  box-shadow:
    0 18px 50px rgba(0,0,0,0.55),
    0 0 32px rgba(255,0,170,0.12),
    0 0 24px rgba(0,255,255,0.08);

  animation: agToastIn 220ms ease-out both;
}

.agGameNavToast__badge{
  font-size: 11px;
  letter-spacing: .18em;
  text-transform: uppercase;
  opacity: .88;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  margin-bottom: 6px;
}

.agGameNavToast__txt{
  font-size: 12.5px;
  line-height: 1.35;
  opacity: .9;
}

@keyframes agToastIn{
  from{ opacity: 0; transform: translateY(-6px) scale(0.99); }
  to{ opacity: 1; transform: translateY(0) scale(1); }
}

/* =========================
   ACCESSIBILITY / PERF
========================= */
@media (prefers-reduced-motion: reduce){
  .agCitySteps__matrixCol,
  .agCitySteps__arrowCore,
  .agCitySteps__handIcon,
  .agIconHint__pulse,
  .agIconHint__tapDot,
  .agArrowKey.isDemo{
    animation: none !important;
  }
}
/* .agCitySteps__cursorOverlay{
  position: fixed;
  z-index: 999999;
  pointer-events: none;
  right: 15%;
  top: 17%;
  transform: translateY(-50%);
  opacity: 0.98;
} */
.agCitySteps__cursorOverlay{
  position: fixed;
  z-index: 999999;
  pointer-events: none;

  right: 136px;
  top: 23%;
  transform: translateY(-50%);
  opacity: 0.98;
}
@media (max-width: 980px){
  .agCitySteps__cursorOverlay{
    right: 18px;
    top: 15%;
  }
}


.agCitySteps__moveOverlay{
  position: fixed;
  z-index: 999999;
  pointer-events: none;

  right: 136px;
  top: 23%;
  transform: translateY(-50%);
  opacity: 0.98;
}

@media (max-width: 980px){
  .agCitySteps__moveOverlay{
    right: 18px;
    top: 15%;
  }
}
.agCitySteps__moveOverlay{
  animation: agOverlayPop 220ms ease-out both;
}
@keyframes agOverlayPop{
  from{ opacity: 0; transform: translateY(-50%) scale(0.98); }
  to{ opacity: 0.98; transform: translateY(-50%) scale(1); }
}
/* ===== Overlay ArrowCluster: BLUE DA ===== */
.agMoveBlue .agKeyCluster{
  border-color: rgba(0,220,255,0.22);
  background: rgba(0, 220, 255, 0.03);
  box-shadow:
    0 18px 50px rgba(0,0,0,0.55),
    0 0 38px rgba(0,220,255,0.14),
    inset 0 0 0 1px rgba(0,220,255,0.06);
}

.agMoveBlue .agArrowKey{
  border-radius: 18px;
  border-color: rgba(0,220,255,0.18);
  background:
    radial-gradient(120px 90px at 30% 25%, rgba(0,220,255,0.10), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.06), transparent 55%),
    rgba(8, 10, 20, 0.62);
  color: rgba(0,220,255,0.92);
  text-shadow: 0 0 16px rgba(0,220,255,0.20);
  box-shadow:
    0 14px 30px rgba(0,0,0,0.45),
    0 0 22px rgba(0,220,255,0.10),
    inset 0 1px 0 rgba(255,255,255,0.08),
    inset 0 -14px 22px rgba(0,0,0,0.35);
}

/* Active glow (blue) */
.agMoveBlue .agArrowKey.isActive{
  border-color: rgba(0,220,255,0.36);
  box-shadow:
    0 18px 44px rgba(0,0,0,0.55),
    0 0 34px rgba(0,220,255,0.18),
    0 0 26px rgba(255,0,170,0.08),
    inset 0 1px 0 rgba(255,255,255,0.12),
    inset 0 -14px 22px rgba(0,0,0,0.30);
}

/* Pressed = cyan snap */
.agMoveBlue .agArrowKey.isPressed{
  border-color: rgba(0,255,255,0.35);
  transform: translateY(2px) scale(0.99);
}

/* Demo pulse = slower & softer */
.agMoveBlue .agArrowKey.isDemo{
  animation: agDemoPulseBlue 1.15s ease-in-out infinite;
}
@keyframes agDemoPulseBlue{
  0%,100% { transform: translateY(0) scale(1); filter: saturate(1); }
  50%     { transform: translateY(2px) scale(0.99); filter: saturate(1.18); }
}

.agDesktopStretch{
  position: fixed;
  inset: 0;
  z-index: 999999;
  pointer-events: none;
  opacity: 0.0;
  transition: opacity 180ms ease, filter 180ms ease;
  filter: saturate(1);
}

.agDesktopStretch.isActive{ opacity: 1; }

.agDesktopStretch.isHidden{
  opacity: 0;
  filter: saturate(0.9);
}

/* Trajectoire “scan” : un glow très léger */
.agDesktopStretch__trail{
  position: absolute;
  inset: 0;
  background:
    radial-gradient(600px 220px at 30% 35%, rgba(0,220,255,0.08), transparent 60%),
    radial-gradient(700px 260px at 70% 55%, rgba(255,0,170,0.06), transparent 62%);
  mix-blend-mode: screen;
  opacity: 0.75;
}

/* Le curseur animé */
.agDesktopStretch__cursor{
  position: absolute;
  left: 12%;
  top: 24%;
  transform: translate(-50%, -50%);
  color: rgba(0,220,255,0.95);
  filter: drop-shadow(0 14px 26px rgba(0,0,0,0.45));
  animation: agScanPath 1.35s ease-in-out infinite;
  /* animation: agScanPath 2.25s cubic-bezier(.22,.61,.36,1) infinite; */
  will-change: transform;
}

/* petit “ping” au bout du curseur */
.agDesktopStretch__ping{
  position: absolute;
  left: 24px;
  top: 24px;
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: rgba(0,220,255,0.22);
  border: 1px solid rgba(0,220,255,0.55);
  box-shadow: 0 0 18px rgba(0,220,255,0.20);
  animation: agPing 0.9s ease-in-out infinite;
}

/* texte discret */
.agDesktopStretch__text{
  position: absolute;
  right: 136px;
  top: 23%;
  transform: translateY(-50%);
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(5,4,16,0.56);
  backdrop-filter: blur(12px) saturate(150%);
  -webkit-backdrop-filter: blur(12px) saturate(150%);
  box-shadow:
    0 18px 50px rgba(0,0,0,0.55),
    0 0 32px rgba(0,220,255,0.08),
    0 0 24px rgba(255,0,170,0.06);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  letter-spacing: 0.08em;
}

.agDesktopStretch__label{
  font-size: 12px;
  color: rgba(245,245,255,0.92);
}
.agDesktopStretch__sub{
  margin-top: 4px;
  font-size: 11px;
  opacity: 0.70;
  color: rgba(245,245,255,0.86);
}

@media (max-width: 980px){
  .agDesktopStretch__text{
    right: 18px;
    top: 15%;
  }
}

/* trajectoire type “scan diagonal” + micro jitter */
@keyframes agScanPath{
  0%   { transform: translate(0,0) rotate(-2deg) scale(1); }
  35%  { transform: translate(52vw, 10vh) rotate(1deg) scale(0.99); }
  70%  { transform: translate(70vw, 40vh) rotate(0deg) scale(1.01); }
  100% { transform: translate(0,0) rotate(-2deg) scale(1); }
}
/* @keyframes agScanPath{
  0%   { transform: translate(0,0) rotate(-1.2deg) scale(1); }
  28%  { transform: translate(38vw, 8vh) rotate(0.6deg) scale(0.995); }
  62%  { transform: translate(62vw, 30vh) rotate(0.2deg) scale(1.005); }
  100% { transform: translate(0,0) rotate(-1.2deg) scale(1); }
} */

@keyframes agPing{
  0%,100%{ transform: scale(0.85); opacity: 0.55; }
  55%    { transform: scale(1.25); opacity: 1; }
}

@media (prefers-reduced-motion: reduce){
  .agDesktopStretch__cursor,
  .agDesktopStretch__ping{
    animation: none !important;
  }
}

.agDesktopStretch.isCompact{
  inset: auto;
  right: 0;
  top: 0;
  width: 320px;
  height: 320px;
}
.agDesktopStretch.isCompact .agDesktopStretch__trail{ display:none; }


/* =========================
   GAME NAV TOAST — TERMINAL PREMIUM (visible!)
========================= */
.agGameNavToast{
  position: fixed;
  top: 86px;
  right: 18px;
  z-index: 12000;          /* ✅ au-dessus overlay */
  pointer-events: none;

  width: 300px;
  padding: 12px 12px 12px;
  border-radius: 16px;

  border: 1px solid rgba(0,220,255,0.22);
  background: rgba(5, 7, 16, 0.78);
  backdrop-filter: blur(14px) saturate(165%);
  -webkit-backdrop-filter: blur(14px) saturate(165%);

  box-shadow:
    0 20px 60px rgba(0,0,0,0.62),
    0 0 40px rgba(0,220,255,0.14),
    0 0 26px rgba(255,0,170,0.08);

  /* ✅ force le texte visible */
  color: rgba(235,245,255,0.92);
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;

  animation: agToastIn 220ms ease-out both;
  overflow: hidden;
}

/* micro glow interne */
.agGameNavToast::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius: 16px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06);
  pointer-events:none;
}

/* scanline */
.agGameNavToast__scan{
  position:absolute;
  left:-20%;
  top:-40%;
  width: 60%;
  height: 220%;
  transform: rotate(18deg);
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.10), transparent);
  opacity: 0.35;
  animation: agToastScan 1.25s ease-out 1 both;
  pointer-events:none;
}

@keyframes agToastScan{
  from{ transform: translateX(-10%) rotate(18deg); opacity: 0; }
  to{ transform: translateX(210%) rotate(18deg); opacity: 0.45; }
}

.agGameNavToast__badge{
  display:flex;
  align-items:center;
  gap: 10px;
  font-size: 11px;
  letter-spacing: .18em;
  text-transform: uppercase;
  color: rgba(0,220,255,0.92);
  opacity: .98;
  margin-bottom: 6px;
}

.agGameNavToast__dot{
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: rgba(0,220,255,0.95);
  box-shadow: 0 0 18px rgba(0,220,255,0.32);
}

.agGameNavToast__txt{
  font-size: 12.5px;
  line-height: 1.35;
  opacity: .94;
  color: rgba(235,245,255,0.92); /* ✅ visible */
}

.agGameNavToast__txt b{
  color: rgba(0,220,255,0.95);
  text-shadow: 0 0 14px rgba(0,220,255,0.18);
}

.agGameNavToast__mono{
  opacity: .75;
}

@keyframes agToastIn{
  from{ opacity: 0; transform: translateY(-6px) scale(0.99); }
  to{ opacity: 1; transform: translateY(0) scale(1); }
}
