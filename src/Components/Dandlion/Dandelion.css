/* Dandelion.css */
.dandelion-container {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 9999;
  }
  
  /* ===== Glyph base ===== */
  .hud-glyph {
    position: fixed;
    left: 0;
    top: 0;
  
    width: var(--g-w);
    height: var(--g-h);
  
    pointer-events: none;
    opacity: 0;
    transform: translate3d(0,0,0) rotate(0deg) scale(0.98);
    will-change: transform, opacity;
  
    /* clean glow */
    filter:
      drop-shadow(0 0 10px rgba(255, 0, 170, 0.10))
      drop-shadow(0 0 18px rgba(124, 58, 237, 0.10));
  }
  
  /* smooth appear + float */
  .hud-glyph.is-on {
    opacity: 1;
    animation: glyph-float var(--g-dur) cubic-bezier(.18,.8,.2,1) forwards;
  }
  
  /* ===== Types ===== */
  
  /* 1) SPARK: a thin line with bright tip */
  .hud-glyph[data-type="spark"]::before,
  .hud-glyph[data-type="spark"]::after {
    content: "";
    position: absolute;
    inset: 0;
  }
  
  .hud-glyph[data-type="spark"]::before {
    height: var(--g-t);
    top: 50%;
    left: 0;
    right: 0;
    transform: translateY(-50%);
    background: linear-gradient(
      90deg,
      transparent,
      var(--g-color),
      rgba(255,255,255,0.65),
      transparent
    );
    opacity: 0.95;
  }
  
  .hud-glyph[data-type="spark"]::after {
    width: calc(var(--g-t) * 4);
    height: calc(var(--g-t) * 4);
    border-radius: 999px;
    top: 50%;
    left: 68%;
    transform: translate(-50%, -50%);
    background: rgba(255,255,255,0.75);
    box-shadow:
      0 0 10px var(--g-color),
      0 0 18px rgba(255,255,255,0.35);
    opacity: 0.9;
  }
  
  /* 2) BRACKET: corner brackets like UI target */
  .hud-glyph[data-type="bracket"] {
    background:
      linear-gradient(var(--g-color), var(--g-color)) left top / 40% var(--g-t) no-repeat,
      linear-gradient(var(--g-color), var(--g-color)) left top / var(--g-t) 55% no-repeat,
      linear-gradient(var(--g-color), var(--g-color)) right bottom / 40% var(--g-t) no-repeat,
      linear-gradient(var(--g-color), var(--g-color)) right bottom / var(--g-t) 55% no-repeat;
    opacity: 0.95;
  }
  
  /* 3) TICK: small tick marks (like calibration lines) */
  .hud-glyph[data-type="tick"]::before {
    content: "";
    position: absolute;
    left: 10%;
    right: 10%;
    top: 50%;
    height: var(--g-t);
    transform: translateY(-50%);
    background:
      repeating-linear-gradient(
        90deg,
        var(--g-color),
        var(--g-color) 10%,
        transparent 10%,
        transparent 18%
      );
    opacity: 0.9;
  }
  
  .hud-glyph[data-type="tick"]::after {
    content: "";
    position: absolute;
    left: 50%;
    top: 50%;
    width: calc(var(--g-t) * 2);
    height: calc(var(--g-t) * 8);
    transform: translate(-50%, -50%);
    background: rgba(255,255,255,0.55);
    opacity: 0.7;
  }
  
  /* 4) CHEVRON: angled “>” UI arrow */
  .hud-glyph[data-type="chevron"] {
    width: calc(var(--g-w) * 0.75);
    height: calc(var(--g-h) * 1.2);
  }
  
  .hud-glyph[data-type="chevron"]::before,
  .hud-glyph[data-type="chevron"]::after {
    content: "";
    position: absolute;
    top: 50%;
    width: 70%;
    height: var(--g-t);
    background: var(--g-color);
    opacity: 0.95;
    transform-origin: left center;
  }
  
  .hud-glyph[data-type="chevron"]::before {
    left: 18%;
    transform: translateY(-50%) rotate(26deg);
  }
  
  .hud-glyph[data-type="chevron"]::after {
    left: 18%;
    transform: translateY(-50%) rotate(-26deg);
  }
  
  /* ===== Subtle scanline shimmer ===== */
  .hud-glyph::marker { content: ""; } /* noop but avoids weirdness */
  .hud-glyph {
    background-clip: padding-box;
  }
  
  .hud-glyph.is-on {
    animation:
      glyph-float var(--g-dur) cubic-bezier(.18,.8,.2,1) forwards,
      glyph-scan 900ms linear infinite;
    animation-delay: 0ms, var(--g-phase);
  }
  
  @keyframes glyph-scan {
    0% { filter: drop-shadow(0 0 10px rgba(255, 0, 170, 0.10)) drop-shadow(0 0 18px rgba(124, 58, 237, 0.10)); }
    50% { filter: drop-shadow(0 0 14px rgba(255, 0, 170, 0.16)) drop-shadow(0 0 22px rgba(124, 58, 237, 0.14)); }
    100% { filter: drop-shadow(0 0 10px rgba(255, 0, 170, 0.10)) drop-shadow(0 0 18px rgba(124, 58, 237, 0.10)); }
  }
  
  @keyframes glyph-float {
    0% {
      opacity: 0;
      transform: translate3d(0,0,0) rotate(0deg) scale(0.98);
    }
    12% { opacity: 1; }
    100% {
      opacity: 0;
      transform: translate3d(var(--g-dx), var(--g-dy), 0) rotate(var(--g-rot)) scale(0.92);
    }
  }
  
  /* Respect reduce motion */
  @media (prefers-reduced-motion: reduce) {
    .hud-glyph,
    .hud-glyph.is-on {
      animation: none !important;
      opacity: 0 !important;
    }
  }
  